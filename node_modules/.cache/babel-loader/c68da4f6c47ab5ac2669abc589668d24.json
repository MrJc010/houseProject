{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\nguye\\\\Downloads\\\\New folder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\nguye\\\\Downloads\\\\New folder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\nguye\\\\Downloads\\\\New folder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\nguye\\\\Downloads\\\\New folder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\nguye\\\\Downloads\\\\New folder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\nguye\\\\Downloads\\\\New folder\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\nguye\\\\Downloads\\\\New folder\\\\src\\\\components\\\\Client\\\\index.js\";\nimport React, { Component } from 'react';\nimport { Redirect, Router, Route } from 'react-router-dom';\nimport * as ROUTES from \"../../constants/routes\";\nimport { withRouter } from 'react-router';\nimport { withFirebase } from '../../server/Firebase/index';\nimport { AuthUserContext } from \"../../server/Session/index\"; //import for individual card\n\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Card from \"react-bootstrap/Card\";\nimport { Button } from \"react-bootstrap\";\nimport { Container } from 'react-bootstrap';\nimport Nav from \"react-bootstrap/Nav\";\nimport Image from \"react-bootstrap/Image\"; //for button\n\nimport { ButtonGroup } from 'reactstrap';\nimport Navbar from './NavBar'; //css for client\n\nimport './client.css';\nimport './style.css';\nvar path;\nvar remember;\nvar imagesource = false;\nvar tempObj;\nvar authUser = JSON.parse(localStorage.getItem(\"authUser\"));\n\nvar Client =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Client, _React$Component);\n\n  function Client(props) {\n    var _this;\n\n    _classCallCheck(this, Client);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Client).call(this, props));\n\n    _this.deleteAction = function (e, house) {\n      console.log(house.idH);\n      console.log(authUser.favHouses[house.idH]);\n\n      var userRef = _this.props.firebase.database.ref('users/' + authUser.uid).child('favHouses').child(house.idH);\n\n      userRef.remove();\n    };\n\n    path = _this.props.history; // lastInfor = this.props.history.location.state;\n\n    _this.state = {\n      isLoading: false,\n      dis: [],\n      authUser: {},\n      favoritehouses: []\n    };\n    _this.deleteAction = _this.deleteAction.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Client, [{\n    key: \"gettingHouse\",\n    value: function gettingHouse() {\n      var houseId = authUser.favHouses.hs;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.setState({\n        isLoading: true\n      });\n      var authUser = JSON.parse(localStorage.getItem(\"authUser\"));\n      var houseId = authUser.favHouses.hs;\n      this.props.firebase.database.ref('account').on('value', function (snapshot) {\n        var data = snapshot.val().userAccount;\n        var newState = [];\n        var imgs = data.userAccount1;\n        newState.push({\n          name: imgs.name,\n          email: imgs.email,\n          img: imgs.img,\n          isAgent: imgs.isAgent,\n          passWord: imgs.passWord\n        });\n\n        _this2.setState({\n          favoritehouses: newState,\n          authUser: authUser\n        });\n      });\n      this.props.firebase.database.ref(\"houses\").on(\"value\", function (snapshot) {\n        var h = [];\n\n        for (var obj in authUser.favHouses) {\n          if (authUser.favHouses[obj] !== \"null\") {\n            var idTemp = authUser.favHouses[obj].id;\n            h.push({\n              idH: obj,\n              image: snapshot.val()[idTemp].images[\"0\"],\n              address: snapshot.val()[idTemp].propertyInfor.details.address,\n              price: snapshot.val()[idTemp].propertyInfor.details.listPrice\n            });\n            imagesource = true;\n          }\n        }\n\n        _this2.setState({\n          favoritehouses: h,\n          authUser: authUser\n        });\n      });\n    }\n  }, {\n    key: \"onProfile\",\n    value: function onProfile() {\n      path.push({\n        pathname: './clientform'\n      }, remember);\n    }\n  }, {\n    key: \"onEdit\",\n    value: function onEdit() {\n      path.push({\n        pathname: './clientedit',\n        remember: remember\n      });\n    }\n  }, {\n    key: \"onSubmit\",\n    value: function onSubmit() {\n      path.push({\n        pathname: './overview',\n        remember: remember\n      });\n    }\n  }, {\n    key: \"buildHouse\",\n    value: function buildHouse(house) {\n      var _this3 = this;\n\n      return React.createElement(\"div\", {\n        className: \"single-house\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"SingleHouseInfo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(Image, {\n        src: house.image,\n        alt: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, \" Price: \", house.price, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }), house.address)), React.createElement(\"div\", {\n        style: this.state.hide ? {\n          visibility: \"hidden\"\n        } : {\n          visibility: \"visible\"\n        },\n        className: \"clientbutton\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"danger\",\n        onClick: function onClick(e) {\n          return _this3.deleteAction(e, house);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, \"Delete\")));\n    }\n  }, {\n    key: \"buildFavoriteHouseList\",\n    value: function buildFavoriteHouseList() {\n      var _this4 = this;\n\n      var Panel = this.state.favoritehouses.map(function (house) {\n        return _this4.buildHouse(house);\n      });\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, Panel);\n    }\n  }, {\n    key: \"printEmpty\",\n    value: function printEmpty() {\n      return React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, \"You have no favorite house!\");\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      var _this$state = this.state,\n          isLoading = _this$state.isLoading,\n          authUser = _this$state.authUser;\n      remember = this.state.dis;\n      return React.createElement(\"div\", {\n        className: \"clientContent\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"TopBar container navRender\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(Nav, {\n        className: \"justify-content-center\",\n        activeKey: \"/home\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(Nav.Item, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(Nav.Link, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        id: \"nav01\",\n        className: \"textNav activeNav\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, \"Favorite House\"))), React.createElement(Nav.Item, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, React.createElement(Nav.Link, {\n        href: ROUTES.HOMEPAGE,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        id: \"nav03\",\n        className: \"textNav\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, \"Find a house\"))))), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"ClientColumn col-sm-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, React.createElement(Card, {\n        style: {\n          \"box-shadow\": \"5px 4px 8px 5px rgba(0,0,0,0.2)\"\n        },\n        className: \"ClientInfo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, React.createElement(Card.Img, {\n        className: \"ClientImage\",\n        variant: \"top\",\n        src: \"https://i.imgur.com/onLuiBV.jpg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }), React.createElement(Card.Body, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, React.createElement(Card.Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        class: \"ClientName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, authUser.firstName + \" \" + authUser.lastName)), authUser.isAgent !== \"true\" ? React.createElement(\"div\", {\n        className: \"btn-edit\",\n        style: this.state.hide ? {\n          visibility: \"hidden\"\n        } : {\n          visibility: \"visible\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: function onClick(e) {\n          return _this5.onEdit();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, \"Edit Profile\")) : \"\"))), React.createElement(\"div\", {\n        className: \"FavoriteHouseColumn col-sm-9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, imagesource ? this.buildFavoriteHouseList() : this.printEmpty()))));\n    }\n  }]);\n\n  return Client;\n}(React.Component);\n\nvar styles = {\n  card: {\n    maxWidth: 345\n  },\n  media: {\n    objectFit: 'cover'\n  }\n};\nexport default withFirebase(Client);","map":{"version":3,"sources":["C:\\Users\\nguye\\Downloads\\New folder\\src\\components\\Client\\index.js"],"names":["React","Component","Redirect","Router","Route","ROUTES","withRouter","withFirebase","AuthUserContext","PropTypes","withStyles","Card","Button","Container","Nav","Image","ButtonGroup","Navbar","path","remember","imagesource","tempObj","authUser","JSON","parse","localStorage","getItem","Client","props","deleteAction","e","house","console","log","idH","favHouses","userRef","firebase","database","ref","uid","child","remove","history","state","isLoading","dis","favoritehouses","bind","houseId","hs","setState","on","snapshot","data","val","userAccount","newState","imgs","userAccount1","push","name","email","img","isAgent","passWord","h","obj","idTemp","id","image","images","address","propertyInfor","details","price","listPrice","pathname","hide","visibility","Panel","map","buildHouse","HOMEPAGE","firstName","lastName","onEdit","buildFavoriteHouseList","printEmpty","styles","card","maxWidth","media","objectFit"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Redirect, Router, Route } from 'react-router-dom';\nimport * as ROUTES from \"../../constants/routes\";\nimport { withRouter } from 'react-router';\nimport {withFirebase} from '../../server/Firebase/index';\nimport { AuthUserContext } from \"../../server/Session/index\";\n//import for individual card\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Card from \"react-bootstrap/Card\";\nimport {Button} from \"react-bootstrap\";\nimport {Container} from 'react-bootstrap';\nimport Nav from \"react-bootstrap/Nav\";\nimport Image from \"react-bootstrap/Image\";\n//for button\nimport {ButtonGroup} from 'reactstrap';\nimport Navbar from './NavBar';\n\n//css for client\nimport './client.css'\nimport './style.css'\n\nlet path;\nlet remember;\nlet imagesource = false;\nlet tempObj;\nconst authUser = JSON.parse(localStorage.getItem(\"authUser\"));\nclass Client extends React.Component {\n  constructor(props) {\n    super(props);\n    path = this.props.history;\n\n    // lastInfor = this.props.history.location.state;\n    this.state = {\n      isLoading: false,\n      dis: [],\n      authUser: {},\n      favoritehouses: []\n    };\n    this.deleteAction = this.deleteAction.bind(this);\n  }\n\n  gettingHouse(){\n    let houseId = authUser.favHouses.hs;\n\n  }\n\n deleteAction=(e, house) => {\n   console.log(house.idH);\n   console.log(authUser.favHouses[house.idH]);\n   var userRef = this.props.firebase.database.ref('users/' + authUser.uid).child('favHouses').child(house.idH);\n   userRef.remove();\n }\n\n\n  componentDidMount() {\n    this.setState({isLoading: true});\n    const authUser = JSON.parse(localStorage.getItem(\"authUser\"));\n    let houseId = authUser.favHouses.hs;\n    this.props.firebase.database.ref('account').on('value', (snapshot) => {\n      const data = snapshot.val().userAccount;\n      let newState = [];\n      let imgs = data.userAccount1;\n      newState.push({\n                name: imgs.name,\n                email: imgs.email,\n                img: imgs.img,\n                isAgent: imgs.isAgent,\n                passWord: imgs.passWord\n                });\n\n      this.setState({favoritehouses: newState , authUser: authUser});\n    });\n\n    this.props.firebase.database.ref(\"houses\").on(\"value\", snapshot => {\n        let h = [];\n        for(var obj in authUser.favHouses){\n          if(authUser.favHouses[obj] !== \"null\"){\n            let idTemp = authUser.favHouses[obj].id;\n            h.push({\n                      idH : obj,\n                      image: snapshot.val()[idTemp].images[\"0\"],\n                      address: snapshot.val()[idTemp].propertyInfor.details.address,\n                      price: snapshot.val()[idTemp].propertyInfor.details.listPrice,\n            });\n            imagesource = true;\n          }\n        }\n          this.setState({favoritehouses: h , authUser: authUser});\n      });\n\n  }\n\n  onProfile(){\n    path.push({\n    pathname: './clientform'},remember);\n  };\n\n  onEdit(){\n    path.push({\n      pathname: './clientedit', remember\n    })\n  }\n\n  onSubmit(){\n    path.push({\n      pathname: './overview', remember\n    })\n  }\n\n\n  buildHouse(house){\n    return(\n      <div className=\"single-house\">\n        <div className=\"SingleHouseInfo\">\n          <Image src={house.image} alt=\"\" />\n          <h2> Price: {house.price}\n          <br />\n          {house.address}\n          </h2>\n        </div>\n        <div style={this.state.hide ? {visibility: \"hidden\"}: {visibility: \"visible\"} }\n        className=\"clientbutton\">\n        <Button variant=\"danger\" onClick = {((e) => this.deleteAction(e, house))}>Delete</Button>\n      </div>\n    </div>\n    );\n  }\n\n\nbuildFavoriteHouseList(){\n  const Panel = this.state.favoritehouses.map(house=>{\n    return this.buildHouse(house)\n  });\n  return <div>{Panel}</div>;\n}\n\nprintEmpty(){\n  return(\n    <p>You have no favorite house!</p>\n  );\n}\n\n  render() {\n    const {isLoading, authUser} = this.state;\n    remember = this.state.dis;\n\n    return (\n      <div className=\"clientContent\">\n      {/* {isLoading ? (\n        <h1> Loading...</h1>)\n          :\n      ( */}\n        <div>\n        <div className=\"TopBar container navRender\">\n          <Nav className=\"justify-content-center\" activeKey=\"/home\">\n            <Nav.Item>\n              <Nav.Link>\n                <span id=\"nav01\" className=\"textNav activeNav\">\n                  {\"Favorite House\"}\n                </span>\n              </Nav.Link>\n            </Nav.Item>\n            <Nav.Item>\n              <Nav.Link href={ROUTES.HOMEPAGE}>\n                <span id=\"nav03\" className=\"textNav\">\n                  {\"Find a house\"}\n                </span>\n              </Nav.Link>\n            </Nav.Item>\n          </Nav>\n        </div>\n\n        <div className=\"row\">\n        <div className=\"ClientColumn col-sm-2\">\n        <Card style={{ \"box-shadow\": \"5px 4px 8px 5px rgba(0,0,0,0.2)\" }} className=\"ClientInfo\">\n        <Card.Img className=\"ClientImage\" variant=\"top\" src={\"https://i.imgur.com/onLuiBV.jpg\"}/>\n        <Card.Body>\n        <Card.Title>\n          <h3 class=\"ClientName\">{authUser.firstName + \" \" +authUser.lastName}</h3>\n        </Card.Title>\n        {authUser.isAgent !== \"true\" ? (\n                      <div\n                        className=\"btn-edit\"\n                        style={\n                          this.state.hide\n                            ? { visibility: \"hidden\" }\n                            : { visibility: \"visible\" }\n                        }\n                      >\n                        <Button onClick={e => this.onEdit()}>\n                          Edit Profile\n                        </Button>\n                      </div>\n                    ) : (\n                      \"\"\n                    )}\n        </Card.Body>\n        </Card>\n        {/* <p>Hello </p> */}\n        </div>\n        <div className=\"FavoriteHouseColumn col-sm-9\">\n        {(imagesource)?this.buildFavoriteHouseList():this.printEmpty()}\n        {/* <p>Hello</p> */}\n        </div>\n        </div>\n        </div>\n\n\n      {/* )\n      } */}\n      </div>\n    );\n  }\n\n\n\n\n}\n\n\nconst styles = {\n  card: {\n    maxWidth: 345,\n  },\n  media: {\n    objectFit: 'cover',\n  },\n};\n\nexport default  withFirebase(Client);\n"]},"metadata":{},"sourceType":"module"}